#!/bin/bash

# Check if the CFILE variable is set
if [ -z "$CFILE" ]; then
  echo "CFILE variable is not set. Please set it to the name of the C file you want to preprocess."
  exit 1
fi

# Check if the specified C file exists
if [ ! -e "$CFILE" ]; then
  echo "File '$CFILE' does not exist."
  exit 1
fi

# Define the output file name
OUTPUT_FILE="c"

# Run the C file through the preprocessor and save the result to the output file
cpp "$CFILE" > "$OUTPUT_FILE"

echo "Preprocessing completed. Result saved in '$OUTPUT_FILE'."
